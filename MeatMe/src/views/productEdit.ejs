<%- include("partials/header")  %>

<div class="container">
    
<div class="container-fluid my-5">
  <form action="/product/edit/<%= Products.id %>?_method=PUT" method="POST" enctype="multipart/form-data" >
    <div class="encabezado-formulario mb-5" class="row">
      <div class="col-12 d-flex justify-content-center border-top border-dark pt-3 my-5">
          <h1 class="text-uppercase"><%= Products.name %></h1>
      </div>
      <div class="alert alert-primary" role="alert" class="col-12 d-flex justify-content-center">
          <p class="text-center mb-0">Una vez completados los casillero, hacer click en "Modificar" para que se incorpore el producto.</p>
      </div>
  </div>
    <div class="form-group justify-content-center row">
        <label for="inputTipoProducto" class="col-sm-3 col-form-label">Categoria: *</label>
        <div class="col-sm-7">
          <select name="category" id="inputTipoProducto" class="form-control">
            <% for(category of categorys) { %>
              <% if(category.id == Products.category_id) { %>
                <option  selected value="<%= category.id %>"><%= category.name %></option>
              <% } else { %> 
                <option  value="<%= category.id %>"><%= category.name %></option>
              <% } %> 
          <% } %>
          </select>
        </div>
        <div class="errors d-flex justify-content-center">
          <ul class="text-danger p-0">
            <% if(typeof errors != 'undefined') { %>
              <% for(let i = 0; i < errors.length; i++) { %>
              <li><%= errors[i].msg %> </li>
              <% } %> 
              <% } %> 
          </ul>
        </div>
      </div>
      <div class="form-group justify-content-center row">
        <label for="inputNombreProducto" class="col-sm-3 col-form-label">Nombre del Producto: *</label>
        <div class="col-sm-7">
          <input type="text" class="form-control" id="inputNombreProducto" name="name" value=<%= Products.name %> >
          <div class="name invalid-feedback"></div>
        </div>
      </div>
      <div class="form-group justify-content-center row">
        <label for="inputKg/Unidad" class="col-sm-3 col-form-label">Kg o Unidad: *</label>
        <div class="col-sm-7">
          <select name="type" id="inputTipoProducto" class="form-control">
            <option value="<%= Products.type %>" selected><%= Products.type %></option>
            <option value="Kg">Kg</option>
            <option value="Unidad">Unidad</option>
          </select>
        </div>
      </div>
    <div class="form-group justify-content-center row">
        <label for="inputKgPorUnidad" class="col-sm-3 col-form-label">Kg por Unidad: </label>
        <div class="col-sm-7">
          <input type="number" class="form-control" id="inputKgPorUnidad" name="weight" value=<%= Products.weight %> placeholder="Completar Kg por unidad solo si el producto se vende por unidad">
          <div class="weight invalid-feedback"></div>
        </div>
      </div>
    <div class="form-group justify-content-center row">
        <label for="inputPrecioPorKg" class="col-sm-3 col-form-label">Precio por Kg: *</label>
        <div class="col-sm-7">
          <input type="number" class="form-control" id="inputPrecioPorKg" name="price" value=<%= Products.price %> >
          <div class="price invalid-feedback"></div>
        </div>
      </div>
      <div class="form-group justify-content-center row">
        <label class="col-3" for="imagen">Imagen: </label>
        <input class="col-7" id="imagen" type="file" name="image" value=<%= Products.image %> placeholder="">
        <% if(typeof errors != 'undefined') { %>
          <div class="pl-5 mt-3"><p class="text-danger"><%= errors.error %> </p></div>
        <% } %> 
    </div>
    <div class="form-group justify-content-around row">
        <button type="submit" class="btn btn-primary my-5">Modificar</button>
    </div>
  </form>
</div>
</div>

<script src= "/js/productvalidator.js"></script>

<%- include("partials/footer") %>